import{s as se,n as te,r as ae,e as le}from"../chunks/scheduler.516bd69e.js";import{S as re,i as oe,g as s,s as I,h as a,j as f,y as L,c as D,f as u,k as e,a as ne,x as t,G as O,B as F}from"../chunks/index.56b521b0.js";import{p as ie}from"../chunks/stores.6cf9bac2.js";import{h as de}from"../chunks/http.37c70d3b.js";import{S as ue}from"../chunks/join.6dbb6b28.js";function ce(g){let m,r,h,l,x,S="Create new password",V,c,o,n,p,G="New password",H,E,i,M,y,w,W="Repeat password",U,P,d,A,T,b,z="Reset password",$,_,J=`<div><img class="w-full mx-auto" src="${ue}" alt=""/> <div class="w-full max-w-md mx-auto xl:max-w-xl"><h3 class="text-2xl font-bold text-center text-black">Crafted with Love, Powered by Nature</h3> <p class="leading-relaxed text-center text-gray-500 mt-2.5">Welcome back to our sustainable community! Sign in to continue exploring our eco-friendly collection, manage your orders, and stay updated with our latest offerings and initiatives..</p> <div class="flex items-center justify-center mt-10 space-x-3"><div class="bg-orange-500 rounded-full w-20 h-1.5"></div> <div class="bg-gray-200 rounded-full w-12 h-1.5"></div> <div class="bg-gray-200 rounded-full w-12 h-1.5"></div></div></div></div>`,q,K;return{c(){m=s("section"),r=s("div"),h=s("div"),l=s("div"),x=s("h2"),x.textContent=S,V=I(),c=s("form"),o=s("div"),n=s("div"),p=s("label"),p.textContent=G,H=I(),E=s("div"),i=s("input"),M=I(),y=s("div"),w=s("label"),w.textContent=W,U=I(),P=s("div"),d=s("input"),A=I(),T=s("div"),b=s("button"),b.textContent=z,$=I(),_=s("div"),_.innerHTML=J,this.h()},l(v){m=a(v,"SECTION",{class:!0});var C=f(m);r=a(C,"DIV",{class:!0});var j=f(r);h=a(j,"DIV",{class:!0});var Q=f(h);l=a(Q,"DIV",{class:!0});var N=f(l);x=a(N,"H2",{class:!0,"data-svelte-h":!0}),L(x)!=="svelte-mpaeik"&&(x.textContent=S),V=D(N),c=a(N,"FORM",{method:!0,class:!0});var X=f(c);o=a(X,"DIV",{class:!0});var k=f(o);n=a(k,"DIV",{});var R=f(n);p=a(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(p)!=="svelte-12lsimr"&&(p.textContent=G),H=D(R),E=a(R,"DIV",{class:!0});var Y=f(E);i=a(Y,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),Y.forEach(u),R.forEach(u),M=D(k),y=a(k,"DIV",{});var B=f(y);w=a(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(w)!=="svelte-1gvbhy"&&(w.textContent=W),U=D(B),P=a(B,"DIV",{class:!0});var Z=f(P);d=a(Z,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),Z.forEach(u),B.forEach(u),A=D(k),T=a(k,"DIV",{});var ee=f(T);b=a(ee,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),L(b)!=="svelte-pplwpj"&&(b.textContent=z),ee.forEach(u),k.forEach(u),X.forEach(u),N.forEach(u),Q.forEach(u),$=D(j),_=a(j,"DIV",{class:!0,"data-svelte-h":!0}),L(_)!=="svelte-14yh2kw"&&(_.innerHTML=J),j.forEach(u),C.forEach(u),this.h()},h(){e(x,"class","text-3xl font-bold leading-tight text-black sm:text-4xl"),e(p,"for",""),e(p,"class","text-base font-medium text-gray-900"),e(i,"type","password"),e(i,"name",""),e(i,"id",""),e(i,"placeholder","Enter new password"),e(i,"class","block w-full p-4 text-black placeholder-gray-500 transition-all duration-200 border border-gray-200 rounded-md bg-gray-50 focus:outline-none focus:border-blue-600 focus:bg-white caret-blue-600"),e(E,"class","mt-2.5"),e(w,"for",""),e(w,"class","text-base font-medium text-gray-900"),e(d,"type","password"),e(d,"name",""),e(d,"id",""),e(d,"placeholder","Repeat password"),e(d,"class","block w-full p-4 text-black placeholder-gray-500 transition-all duration-200 border border-gray-200 rounded-md bg-gray-50 focus:outline-none focus:border-blue-600 focus:bg-white caret-blue-600"),e(P,"class","mt-2.5"),e(b,"type","button"),e(b,"class","inline-flex items-center justify-center w-full px-4 py-4 text-base font-semibold text-white transition-all duration-200 bg-blue-600 border border-transparent rounded-md focus:outline-none hover:bg-blue-700 focus:bg-blue-700"),e(o,"class","space-y-5"),e(c,"method","POST"),e(c,"class","mt-8"),e(l,"class","xl:w-full xl:max-w-sm 2xl:max-w-md xl:mx-auto"),e(h,"class","flex flex-start justify-center px-4 py-10 bg-white sm:px-6 lg:px-8 sm:py-16 lg:py-20"),e(_,"class","flex items-center justify-center px-4 py-10 sm:py-16 lg:py-24 bg-gray-50 sm:px-6 lg:px-8"),e(r,"class","grid grid-cols-1 lg:grid-cols-2"),e(m,"class","bg-white max-w-7xl m-auto")},m(v,C){ne(v,m,C),t(m,r),t(r,h),t(h,l),t(l,x),t(l,V),t(l,c),t(c,o),t(o,n),t(n,p),t(n,H),t(n,E),t(E,i),O(i,g[0].newPassword),t(o,M),t(o,y),t(y,w),t(y,U),t(y,P),t(P,d),O(d,g[0].repeat),t(o,A),t(o,T),t(T,b),t(r,$),t(r,_),q||(K=[F(i,"input",g[2]),F(d,"input",g[3]),F(b,"click",g[1])],q=!0)},p(v,[C]){C&1&&i.value!==v[0].newPassword&&O(i,v[0].newPassword),C&1&&d.value!==v[0].repeat&&O(d,v[0].repeat)},i:te,o:te,d(v){v&&u(m),q=!1,ae(K)}}}function pe(g,m,r){let h;le(g,ie,c=>r(4,h=c));let l={newPassword:"",repeat:""};const x=async()=>{var p;if(l.newPassword!=l.repeat)return alert("Please repeat password correctly");const{email:c,resetToken:o}=h.params,n=await de.post(`/api/auth/changePassword/${c}/${o}`,l);n.status==403?alert("Please enter correct email"):(p=n==null?void 0:n.result)!=null&&p.token&&console.log("Reset link has been sent")};function S(){l.newPassword=this.value,r(0,l)}function V(){l.repeat=this.value,r(0,l)}return[l,x,S,V]}class be extends re{constructor(m){super(),oe(this,m,pe,ce,se,{})}}export{be as component};
